- backpropagate collapsed states and rerun 
- make document out of jsons